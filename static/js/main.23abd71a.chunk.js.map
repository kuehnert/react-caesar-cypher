{"version":3,"sources":["utils/caesar.js","utils/puzzles.js","components/Caesar.jsx","components/App.js","index.js"],"names":["charA","charCodeAt","ord","charCode","addToLetter","delta","od","parseInt","newCharcode","String","fromCharCode","random","max","Math","floor","puzzles","Caesar","props","context","handleChangeMessage","bind","handleChangeShift","histogramGerman","state","alphabet","split","message","length","encoded","histogram","shift","stdv","this","encryptMessage","input","output","i","caesar","toUpperCase","replace","Array","fill","makeHistogram","histogram1","histogram2","sqrt","standardDeviation","setState","event","target","value","map","e","key","toFixed","className","id","label","rows","placeholder","onChange","min","step","match","join","labels","type","disableAnimations","title","values","backgroundColor","borderColor","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.23abd71a.chunk.js","sourcesContent":["const charA = 'A'.charCodeAt(0);\r\n\r\nfunction ord(charCode) {\r\n  return charCode - charA;\r\n}\r\n\r\nfunction addToLetter(charCode, delta) {\r\n  const o = ord(charCode);\r\n  // console.log('o', o);\r\n  const od = o + parseInt(delta, 10);\r\n  // console.log('od', od);\r\n  const newCharcode = charA + (od % 26);\r\n\r\n  // console.log(String.fromCharCode(charCode), '->', String.fromCharCode(newCharcode));\r\n  return String.fromCharCode(newCharcode);\r\n}\r\n\r\nexport function caesar(input, shift = 2) {\r\n  let output = '';\r\n\r\n  for (let i = 0; i < input.length; i += 1) {\r\n    output += addToLetter(input.charCodeAt(i), shift);\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nexport function clean(input) {\r\n  return input\r\n    .toUpperCase()\r\n    .replace(/Ä/g, 'AE')\r\n    .replace(/Ö/g, 'OE')\r\n    .replace(/Ü/g, 'UE')\r\n    .replace(/[^A-Z]/g, '');\r\n}\r\n\r\nexport function format(input) {\r\n  return input ? input.match(/\\w{1,5}/g).join(' ') : '';\r\n}\r\n\r\nexport function makeHistogram(input) {\r\n  const histogram = Array(26).fill(0);\r\n\r\n  for (let i = 0; i < input.length; i += 1) {\r\n    const o = ord(input.charCodeAt(i));\r\n    histogram[o] += 1;\r\n  }\r\n\r\n  for (let i = 0; i < histogram.length; i += 1) {\r\n    histogram[i] /= input.length;\r\n  }\r\n\r\n  return histogram;\r\n}\r\n\r\nexport function standardDeviation(histogram1, histogram2) {\r\n  let stdv = 0;\r\n\r\n  for (let i = 0; i < histogram1.length; i += 1) {\r\n    stdv += (histogram1[i] - histogram2[i]) ** 2;\r\n  }\r\n\r\n  stdv = Math.sqrt(stdv / (histogram1.length - 1));\r\n\r\n  return stdv;\r\n}\r\n\r\nexport const random = (max) => Math.floor(Math.random() * max);\r\n","const puzzles = [\r\n  'Es war einmal ein kleines süßes Mädchen, das hatte jedermann lieb, der sie nur ansah, am allerliebsten aber ihre Großmutter, die wusste gar nicht, was sie alles dem Kinde geben sollte. Einmal schenkte sie ihm ein Käppchen von rotem Samt, und weil ihm das so wohl stand, und es nichts anders mehr tragen wollte, hieß es nur das Rotkäppchen.',\r\n  'FTXBS FJONB MFJOL MFJOF TTVFT TFTNB FEDIF OEBTI BUUFK FEFSN BOOMJ FCEFS TJFOV SBOTB IBNBM MFSMJ FCTUF OBCFS JISFH SPTTN VUUFS EJFXV TTUFH BSOJD IUXBT TJFBM MFTEF NLJOE FHFCF OTPMM UFFJO NBMTD IFOLU FTJFJ INFJO LBFQQ DIFOW POSPU FNTBN UVOEX FJMJI NEBTT PXPIM TUBOE VOEFT OJDIU TBOEF STNFI SUSBH FOXPM MUFIJ FTTFT OVSEB TSPUL BFQQD IFO',\r\n  'ZTYNV ZJJUR JJZTY EZTYK JNVZJ J',\r\n  'OZZSK CZZSB WBRSB VWAAS ZOPSF BWSAO BRKWZ ZGHSF PSB',\r\n  'OTPOP FEDNS PYDTY OPTYR PXPTY RPQLP SCWTN SPDGZ WVDTP KTPSP YFYPC HLCEP EPTYR POTNS ELFDO PCELD NSPFY OMPRT YYPYP TYRPD ACLPN SFPMP CASTW ZDZAS TPSPT YCTNS SPTYP',\r\n  'URJZJ KJTYF VESVZ UVEUV LKJTY VEBVZ EVIZJ KJFMV IILVT BKURJ JVIEZ TYKVZ EVEEF TYMVI ILVTB KVIVE WRVEU VUVIZ YEMVI JKVYK YVZEI ZTYYV ZEV',\r\n  'CHDRD GDMCD MRHMC DRMHB GSCHD RHBGE TDQRD GDMCG ZKSDM HLLDQ MTQCH DAKHM CDM',\r\n  'JKXKO TFOMK JKXKO TKTUF KRUZV KRFCO XQROI NHXGA INZOY ZJKXU FKRUZ HKXTN GXJMX FOSKQ',\r\n  'PYLMO WBOHA YHMIF FNYGU HHUWB AYVYH QYLQY CMMIV MCYQC YXYLE IGGYH IMWUL QCFXY'\r\n];\r\n\r\nexport default puzzles;\r\n","import React, { Component } from 'react';\r\nimport { Chart, Slider, Textarea, Dataset } from 'react-rainbow-components';\r\nimport { caesar, clean, format, makeHistogram, standardDeviation, random } from '../utils/caesar';\r\nimport puzzles from '../utils/puzzles';\r\nimport './Caesar.css';\r\n\r\nexport default class Caesar extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.handleChangeMessage = this.handleChangeMessage.bind(this);\r\n    this.handleChangeShift = this.handleChangeShift.bind(this);\r\n\r\n    this.histogramGerman = [\r\n      0.0651,\r\n      0.0189,\r\n      0.0306,\r\n      0.0508,\r\n      0.174,\r\n      0.0166,\r\n      0.0301,\r\n      0.0476,\r\n      0.0755,\r\n      0.0027,\r\n      0.0121,\r\n      0.0344,\r\n      0.0253,\r\n      0.0978,\r\n      0.0251,\r\n      0.0079,\r\n      0.0002,\r\n      0.07,\r\n      0.0758,\r\n      0.0615,\r\n      0.0435,\r\n      0.0067,\r\n      0.0189,\r\n      0.0003,\r\n      0.0004,\r\n      0.0113,\r\n    ];\r\n\r\n    this.state = {\r\n      alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split(''),\r\n      message: puzzles[random(puzzles.length)],\r\n      encoded: 'blub',\r\n      histogram: [],\r\n      shift: random(26),\r\n      stdv: 0,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.encryptMessage();\r\n  }\r\n\r\n  encryptMessage() {\r\n    const { message, shift } = this.state;\r\n    const raw = clean(message);\r\n    const encoded = caesar(raw, shift);\r\n    const histogram = makeHistogram(encoded);\r\n    const stdv = standardDeviation(histogram, this.histogramGerman);\r\n\r\n    this.setState({ encoded, histogram, stdv });\r\n  }\r\n\r\n  handleChangeMessage(event) {\r\n    this.setState({ message: event.target.value }, this.encryptMessage);\r\n  }\r\n\r\n  handleChangeShift(event) {\r\n    this.setState({ shift: parseInt(event.target.value, 10) }, this.encryptMessage);\r\n  }\r\n\r\n  renderHistogram() {\r\n    const { alphabet, histogram } = this.state;\r\n\r\n    return (\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            {alphabet.map(e => (\r\n              <th key={e}>{e}</th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            {histogram.map((e, i) => (\r\n              // eslint-disable-next-line react/no-array-index-key\r\n              <td key={i}>{e.toFixed(2)}</td>\r\n            ))}\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { alphabet, message, encoded, histogram, shift, stdv } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <h1 className=\"ui header\">Caesar</h1>\r\n\r\n        <h2>Message</h2>\r\n        <div className=\"ui segment\">\r\n          <Textarea\r\n            id=\"example-textarea-1\"\r\n            label=\"Secret Message\"\r\n            rows={5}\r\n            value={message}\r\n            placeholder=\"Secret message here\"\r\n            onChange={this.handleChangeMessage}\r\n          />\r\n\r\n          <Slider\r\n            label=\"Letter Shift\"\r\n            value={shift}\r\n            min={0}\r\n            max={25}\r\n            step={1}\r\n            onChange={this.handleChangeShift}\r\n          />\r\n        </div>\r\n\r\n        <h2>Decrypted Message</h2>\r\n        <div className=\"ui segment\">\r\n          <div className=\"code\">{format(encoded)}</div>\r\n        </div>\r\n\r\n        <h2>Standard Deviation</h2>\r\n        <div className=\"ui segment\">\r\n          <div className=\"code center\">{stdv.toFixed(3)}</div>\r\n        </div>\r\n\r\n        <h2>Histogram</h2>\r\n        <div className=\"ui segment\">\r\n          <div className=\"\">\r\n            <Chart\r\n              labels={alphabet}\r\n              type=\"bar\"\r\n              disableAnimations\r\n              className=\"\">\r\n              <Dataset\r\n                title=\"Message\"\r\n                values={histogram}\r\n                backgroundColor=\"#1de9b6\"\r\n                borderColor=\"#1de9b6\"\r\n              />\r\n              <Dataset\r\n                title=\"German\"\r\n                values={this.histogramGerman}\r\n                backgroundColor=\"#01b6f5\"\r\n                borderColor=\"#01b6f5\"\r\n              />\r\n            </Chart>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Caesar from './Caesar';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"ui main text container\">\r\n      <Caesar />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}